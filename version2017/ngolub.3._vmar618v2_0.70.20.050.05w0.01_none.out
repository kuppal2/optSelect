
R version 3.2.2 (2015-08-14) -- "Fire Safety"
Copyright (C) 2015 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin13.4.0 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> 
> #.libPaths("/home/kuppal3/karan_libs/Rlibs")
> library(snow)
Warning message:
package ‘snow’ was built under R version 3.2.5 
> library(e1071)
Warning message:
package ‘e1071’ was built under R version 3.2.5 
> library(yaImpute)

Attaching package: ‘yaImpute’

The following object is masked from ‘package:e1071’:

    impute

> library(pROC)
Type 'citation("pROC")' for a citation.

Attaching package: ‘pROC’

The following objects are masked from ‘package:stats’:

    cov, smooth, var

Warning message:
package ‘pROC’ was built under R version 3.2.5 
> library(bioDist)
Loading required package: Biobase
Loading required package: BiocGenerics
Loading required package: parallel

Attaching package: ‘parallel’

The following objects are masked from ‘package:snow’:

    clusterApply, clusterApplyLB, clusterCall, clusterEvalQ,
    clusterExport, clusterMap, clusterSplit, makeCluster, parApply,
    parCapply, parLapply, parRapply, parSapply, splitIndices,
    stopCluster


Attaching package: ‘BiocGenerics’

The following objects are masked from ‘package:parallel’:

    clusterApply, clusterApplyLB, clusterCall, clusterEvalQ,
    clusterExport, clusterMap, parApply, parCapply, parLapply,
    parLapplyLB, parRapply, parSapply, parSapplyLB

The following objects are masked from ‘package:snow’:

    clusterApply, clusterApplyLB, clusterCall, clusterEvalQ,
    clusterExport, clusterMap, parApply, parCapply, parLapply,
    parRapply, parSapply

The following objects are masked from ‘package:stats’:

    IQR, mad, xtabs

The following objects are masked from ‘package:base’:

    anyDuplicated, append, as.data.frame, as.vector, cbind, colnames,
    do.call, duplicated, eval, evalq, Filter, Find, get, grep, grepl,
    intersect, is.unsorted, lapply, lengths, Map, mapply, match, mget,
    order, paste, pmax, pmax.int, pmin, pmin.int, Position, rank,
    rbind, Reduce, rownames, sapply, setdiff, sort, table, tapply,
    union, unique, unlist, unsplit

Welcome to Bioconductor

    Vignettes contain introductory material; view with
    'browseVignettes()'. To cite Bioconductor, see
    'citation("Biobase")', and for packages 'citation("pkgname")'.

Loading required package: KernSmooth
KernSmooth 2.23 loaded
Copyright M. P. Wand 1997-2009
> #library(CMA, lib="/home/kuppal3/karan_libs/Rlibs/")
> library(RankAggreg)
Warning message:
package ‘RankAggreg’ was built under R version 3.2.5 
> library(CMA)

Attaching package: ‘CMA’

The following object is masked from ‘package:pROC’:

    roc

The following object is masked from ‘package:e1071’:

    tune

Warning message:
package ‘CMA’ was built under R version 3.2.4 
> library(expm)
Loading required package: Matrix

Attaching package: ‘expm’

The following object is masked from ‘package:Matrix’:

    expm

Warning messages:
1: package ‘expm’ was built under R version 3.2.5 
2: package ‘Matrix’ was built under R version 3.2.5 
> 
> cl<-makeCluster(1)
> 
> 
> args<-commandArgs(trailingOnly=TRUE)
> 
> dirloc<-"/Users/karanuppal/Documents/Gatech/Projects/Algorithms/TwostagePSO/"
> #sname<-paste("/home/stu/kuppal3/Research/Feature_selection/Rcode/versionnov2014/OCFS_",args[9],".R",sep="")
> 
> sname<-paste(dirloc,"version2017/OCFS_",args[9],".R",sep="")
> source(sname)
> 
> outloc<-paste(dirloc,"/Datasets/Golub/OCFSvmay2415_Golub",args[9],"/",sep="")
> 
> 
> sname<-paste(dirloc,"Datasets/Golub/Golub.Rda",sep="")
> load(sname)
> 
> #data_loc<-"/Users/karanuppal/Documents/Gatech/Projects/Algorithms/TwostagePSO/Datasets/Golub/"
> #data_loc<-"/home/kuppal2/Documents/Projects/xmsPANDA/Other/Datasets/Golub/"
> #load("/home/kuppal3/Research/Feature_selection/Datasets/Golub/Golub.rda")
> #load("Golub.rda")
> 
> trainm<-Golub$X
> testm<-Golub$Xt
> trainclass<-Golub$y
> testclass<-Golub$yt
> 
> cnames<-paste("var",seq(1,dim(trainm)[2]),sep="")
> colnames(trainm)<-cnames
> colnames(testm)<-cnames
> 
> trainm<-t(trainm)
> testm<-t(testm)
> 
> 
> 
> trainm[trainm < 100] <- 100
> trainm[trainm > 16000] <- 16000
> 
> testm[testm < 100] <- 100
> testm[testm > 16000] <- 16000
> 
> mmfilt <- function(x,r = 5, d = 500, na.rm = TRUE) {
+  minval <- min(x, na.rm = na.rm)
+  maxval <- max(x, na.rm = na.rm)
+  (maxval/minval > r) && (maxval - minval > d)
+ }
> 
> #mmfun <- mmfilt()
> #ffun <- filterfun(mmfun)
> #good <- genefilter(X, ffun)
> 
> good<-apply(trainm,1,mmfilt)
> 
> 
> trainm<-trainm[good,]
> 
> print(dim(trainm))
[1] 3051   38
> testm<-testm[good,]
> 
> 
> trainm<-log10(trainm+1)
>  testm<-log10(testm+1)
> 
> 
> trainm<-t(trainm)
> testm<-t(testm)
> 
> trainm<-cbind(trainclass,trainm)
> testm<-cbind(testclass,testm)
> 
> trainm<-na.omit(trainm)
> testm<-na.omit(testm)
> 
> 
> dir.create(outloc)
Warning message:
In dir.create(outloc) :
  '/Users/karanuppal/Documents/Gatech/Projects/Algorithms/TwostagePSO//Datasets/Golub/OCFSvmay2415_Golubvmarch62018_v2' already exists
> setwd(outloc)
> 
> trainm<-as.matrix(trainm)
> testm<-as.matrix(testm)
> trainclass<-trainm[,1] #CMAres$modtrainclass
> testclass<-testm[,1] #CMAres$modtestclass
> trainm<-trainm[,-c(1)] #CMAres$modtrainmata
> testm<-testm[,-c(1)] #CMAres$modtestmata
> 
> #a: Confusions
> #b: Neighbors
> #c: Global
> #d: Death
> 
> a<-c(0.25,0.25,0.25,0.25)
> b<-c(0.3,0.1,0.4,0.1)
> c<-c(0.25,0.25,0.5,0)
> d<-c(0.9,0.1,0,0.1)
> 
> a<-c(0,0.4,0.1,0.5)
> b<-c(0.3,0.1,0.4,0.1)
> c<-c(0,0.5,0.5,0)
> d<-c(0.9,0.1,0,0)
> 
> a<-c(0,0.4,0.1,0.5)
> b<-c(0.2,0.3,0.4,0.1)
> c<-c(0,0.4,0.4,0.2)
> d<-c(0.9,0.1,0,0)
> 
> transition_matrix<-rbind(a,b,c,d)
> 
> 
> dir.create(outloc)
Warning message:
In dir.create(outloc) :
  '/Users/karanuppal/Documents/Gatech/Projects/Algorithms/TwostagePSO//Datasets/Golub/OCFSvmay2415_Golubvmarch62018_v2' already exists
> setwd(outloc)
> temp2=t(trainm)
> temp2=apply(temp2, 2, function(x){which(x=="MD")})
> temp2=unlist(temp2)
> temp2=unique(temp2)
> if(length(temp2)>1)
+ {
+ 	trainm=trainm[,-c(temp2)]
+ 
+ 	rm(temp2)
+ }
> 
> boostweight=rep(0,dim(trainm)[2])
> 
> #if(FALSE)
> {
+ CMAres<-performCMA(trainm, trainclass, testm, testclass,outloc,
+ maxnum=as.numeric(args[10]),
+ minnum=3,
+ stepitr=1,
+ gsmethods=c("limma"), #"lasso","elasticnet","kruskal.test"), #"f.test", "f.test", "elasticnet", "wilcox.test", "welch.test"),
+ pct_train=0.40,
+ accuracyweight=1,
+ featweight=0.06,
+ minpresent=1,
+ kname="radial",
+ norm_method="none",
+ tolerance=0.1,
+ maxitrs=5,
+ classindex=1,
+ numfacts=0,
+ evalmethod="CV",
+ numfolds=10,
+ CVfoldthresh=0.7,
+ varselmethod=args[11],
+ scheme_val="one-vs-all",
+ iter_learn=1,boostweight=rep(0,dim(trainm)[2]))
+ 
+ 
+ CMAres<-performCMA(trainm, trainclass, testm, testclass,outloc,
+ maxnum=as.numeric(args[10]),
+ minnum=3,
+ stepitr=1,
+ gsmethods=c("lasso"), #"lasso","elasticnet","kruskal.test"), #"f.test", "f.test", "elasticnet", "wilcox.test", "welch.test"),
+ pct_train=0.40,
+ accuracyweight=1,
+ featweight=0.06,
+ minpresent=1,
+ kname="radial",
+ norm_method="none",
+ tolerance=0.1,
+ maxitrs=5,
+ classindex=1,
+ numfacts=0,
+ evalmethod="CV",
+ numfolds=10,
+ CVfoldthresh=0.7,
+ varselmethod=args[11],
+ scheme_val="one-vs-all",
+ iter_learn=1,boostweight=rep(0,dim(trainm)[2]))
+ 
+ CMAres<-performCMA(trainm, trainclass, testm, testclass,outloc,
+ maxnum=as.numeric(args[10]),
+ minnum=3,
+ stepitr=1,
+ gsmethods=c("rfe"), #"lasso","elasticnet","kruskal.test"), #"f.test", "f.test", "elasticnet", "wilcox.test", "welch.test"),
+ pct_train=0.40,
+ accuracyweight=1,
+ featweight=0.06,
+ minpresent=1,
+ kname="radial",
+ norm_method="none",
+ tolerance=0.1,
+ maxitrs=5,
+ classindex=1,
+ numfacts=0,
+ evalmethod="CV",
+ numfolds=10,
+ CVfoldthresh=0.7,
+ varselmethod=args[11],
+ scheme_val="one-vs-all",
+ iter_learn=1,boostweight=rep(0,dim(trainm)[2]))
+ 
+ CMAres<-performCMA(trainm, trainclass, testm, testclass,outloc,
+ maxnum=as.numeric(args[10]),
+ minnum=3,
+ stepitr=1,
+ gsmethods=c("elasticnet"), #"lasso","elasticnet","kruskal.test"), #"f.test", "f.test", "elasticnet", "wilcox.test", "welch.test"),
+ pct_train=0.40,
+ accuracyweight=1,
+ featweight=0.06,
+ minpresent=1,
+ kname="radial",
+ norm_method="none",
+ tolerance=0.1,
+ maxitrs=5,
+ classindex=1,
+ numfacts=0,
+ evalmethod="CV",
+ numfolds=10,
+ CVfoldthresh=0.7,
+ varselmethod=args[11],
+ scheme_val="one-vs-all",
+ iter_learn=1,boostweight=rep(0,dim(trainm)[2]))
+ 
+ if(FALSE){
+ CMAres<-performCMA(trainm, trainclass, testm, testclass,outloc,
+ maxnum=as.numeric(args[10]),
+ minnum=3,
+ stepitr=1,
+ gsmethods=c("rf"), #"lasso","elasticnet","kruskal.test"), #"f.test", "f.test", "elasticnet", "wilcox.test", "welch.test"),
+ pct_train=0.40,
+ accuracyweight=1,
+ featweight=0.06,
+ minpresent=1,
+ kname="radial",
+ norm_method="none",
+ tolerance=0.1,
+ maxitrs=5,
+ classindex=1,
+ numfacts=0,
+ evalmethod="CV",
+ numfolds=10,
+ CVfoldthresh=0.7,
+ varselmethod=args[11],
+ scheme_val="one-vs-all",
+ iter_learn=1,boostweight=rep(0,dim(trainm)[2]))
+ }
+ 
+ CMAres<-performCMA(trainm, trainclass, testm, testclass,outloc,
+ maxnum=as.numeric(args[10]),
+ minnum=3,
+ stepitr=1,
+ gsmethods=c("f.test"), #"lasso","elasticnet","kruskal.test"), #"f.test", "f.test", "elasticnet", "wilcox.test", "welch.test"),
+ pct_train=0.40,
+ accuracyweight=1,
+ featweight=0.06,
+ minpresent=1,
+ kname="radial",
+ norm_method="none",
+ tolerance=0.1,
+ maxitrs=5,
+ classindex=1,
+ numfacts=0,
+ evalmethod="CV",
+ numfolds=10,
+ CVfoldthresh=0.7,
+ varselmethod=args[11],
+ scheme_val="one-vs-all",
+ iter_learn=1,boostweight=rep(0,dim(trainm)[2]))
+ }
[1] "dim of trainm is "
[1]   38 3051
[1]   38 3051
[1] "length of factcols"
[1] 0
[1]   38 3051
[1]   34 3051
integer(0)
character(0)
NULL
[1] "ok"
[1] "maxnum is "
[1] 3
[1] "# of genes left after filtering:"
[1]   38 3051
[1] "Method name: limma"
[1]   38 3051
nci_y
-1  1 
27 11 
learningset mode:  CV 
number of learningsets:  10 
(maximum) number of observations per learning set:  35 
[1] "one-vs-all"
GeneSelection: iteration 1 

Attaching package: ‘limma’

The following object is masked from ‘package:BiocGenerics’:

    plotMA

GeneSelection: iteration 2 
GeneSelection: iteration 3 
GeneSelection: iteration 4 
GeneSelection: iteration 5 
GeneSelection: iteration 6 
GeneSelection: iteration 7 
GeneSelection: iteration 8 
GeneSelection: iteration 9 
GeneSelection: iteration 10 
[1] 8
[1] "varselmethod"
[1] "none"
[1] 8
[1] "Method: limma"
[1] 3
[1] "dim of scoring matrix is "
[1] 3051    1
     Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
0.0000000 0.0000000 0.0000000 0.0009833 0.0000000 1.0000000 
[1] 3
[1] 3051
[1] "DS index stage 1"
[1] NA
[1] "bestgenelist"
[1]  378  829 1009
       var760  var1882  var2288
[1,] 2.209515 2.482874 2.004321
[2,] 2.770115 3.133219 2.004321
[3,] 2.318063 2.406540 2.004321
       var760  var1882  var2288
[1,] 2.004321 2.004321 2.004321
[2,] 2.004321 2.004321 2.004321
[3,] 2.356026 2.004321 2.004321
[1] "numgenes selected:3"
[1] "test acc:0.941176470588235"
[1] "test AUC acc:0.928571428571429"
[1] "10 fold train89.4736842105263"
[1] "confusion matrix train 10 fold"
          nci_y
pred10fold -1  1
        -1 27  1
        1   0 10
[1] "confusion matrix test"
         test_y
pred_test -1  1
       -1 20  2
       1   0 12
[1] "train acc:0.973684210526316"
[1] "confusion matrix train"
          nci_y
pred_train -1  1
        -1 27  1
        1   0 10
[1] "DS index stage 1"
[1] NA
[1] "KI index stage 1"
[1] NA
[1] "dim of trainm is "
[1]   38 3051
[1]   38 3051
[1] "length of factcols"
[1] 0
[1]   38 3051
[1]   34 3051
integer(0)
character(0)
NULL
[1] "ok"
[1] "maxnum is "
[1] 3
[1] "# of genes left after filtering:"
[1]   38 3051
[1] "Method name: lasso"
[1]   38 3051
nci_y
-1  1 
27 11 
learningset mode:  CV 
number of learningsets:  10 
(maximum) number of observations per learning set:  35 
[1] "one-vs-all"
GeneSelection: iteration 1 
Loaded glmnet 2.0-10


Attaching package: ‘glmnet’

The following object is masked from ‘package:pROC’:

    auc

GeneSelection: iteration 2 
GeneSelection: iteration 3 
GeneSelection: iteration 4 
GeneSelection: iteration 5 
GeneSelection: iteration 6 
GeneSelection: iteration 7 
GeneSelection: iteration 8 
GeneSelection: iteration 9 
GeneSelection: iteration 10 
genelist
 829  808 2670  523  894 1413 1448 1977 2124 2198 2750 
  10    8    3    2    1    1    1    1    1    1    1 
[1] 11
[1] "varselmethod"
[1] "none"
[1] 11
[1] "Method: lasso"
[1] 3
[1] "dim of scoring matrix is "
[1] 3051    1
     Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
0.0000000 0.0000000 0.0000000 0.0009833 0.0000000 1.0000000 
[1] 3
[1] 3051
[1] "DS index stage 1"
[1] NA
[1] "bestgenelist"
[1]  808  829 2670
      var1834  var1882  var6218
[1,] 2.418301 2.482874 2.004321
[2,] 2.008600 3.133219 2.004321
[3,] 2.491362 2.406540 2.004321
      var1834  var1882  var6218
[1,] 2.227887 2.004321 2.037426
[2,] 2.389166 2.004321 2.230449
[3,] 2.004321 2.004321 2.584331
[1] "numgenes selected:3"
[1] "test acc:0.882352941176471"
[1] "test AUC acc:0.9"
[1] "10 fold train97.3684210526316"
[1] "confusion matrix train 10 fold"
          nci_y
pred10fold -1  1
        -1 27  0
        1   0 11
[1] "confusion matrix test"
         test_y
pred_test -1  1
       -1 16  0
       1   4 14
[1] "train acc:1"
[1] "confusion matrix train"
          nci_y
pred_train -1  1
        -1 27  0
        1   0 11
[1] "DS index stage 1"
[1] NA
[1] "KI index stage 1"
[1] NA
[1] "dim of trainm is "
[1]   38 3051
[1]   38 3051
[1] "length of factcols"
[1] 0
[1]   38 3051
[1]   34 3051
integer(0)
character(0)
NULL
[1] "ok"
[1] "maxnum is "
[1] 3
[1] "# of genes left after filtering:"
[1]   38 3051
[1] "Method name: rfe"
[1]   38 3051
nci_y
-1  1 
27 11 
learningset mode:  CV 
number of learningsets:  10 
(maximum) number of observations per learning set:  35 
[1] "one-vs-all"
GeneSelection: iteration 1 
GeneSelection: iteration 2 
GeneSelection: iteration 3 
GeneSelection: iteration 4 
GeneSelection: iteration 5 
GeneSelection: iteration 6 
GeneSelection: iteration 7 
GeneSelection: iteration 8 
GeneSelection: iteration 9 
GeneSelection: iteration 10 
[1] 7
[1] "varselmethod"
[1] "none"
[1] 7
[1] "Method: rfe"
[1] 3
[1] "dim of scoring matrix is "
[1] 3051    1
     Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
0.0000000 0.0000000 0.0000000 0.0009833 0.0000000 1.0000000 
[1] 3
[1] 3051
[1] "DS index stage 1"
[1] NA
[1] "bestgenelist"
[1]  773  829 2124
      var1779  var1882  var4847
[1,] 2.004321 2.482874 2.475671
[2,] 2.004321 3.133219 2.488551
[3,] 2.004321 2.406540 2.491362
      var1779  var1882  var4847
[1,] 2.691081 2.004321 2.252853
[2,] 2.004321 2.004321 2.025306
[3,] 2.004321 2.004321 2.403121
[1] "numgenes selected:3"
[1] "test acc:0.911764705882353"
[1] "test AUC acc:0.903571428571429"
[1] "10 fold train100"
[1] "confusion matrix train 10 fold"
          nci_y
pred10fold -1  1
        -1 27  0
        1   0 11
[1] "confusion matrix test"
         test_y
pred_test -1  1
       -1 19  2
       1   1 12
[1] "train acc:1"
[1] "confusion matrix train"
          nci_y
pred_train -1  1
        -1 27  0
        1   0 11
[1] "DS index stage 1"
[1] NA
[1] "KI index stage 1"
[1] NA
[1] "dim of trainm is "
[1]   38 3051
[1]   38 3051
[1] "length of factcols"
[1] 0
[1]   38 3051
[1]   34 3051
integer(0)
character(0)
NULL
[1] "ok"
[1] "maxnum is "
[1] 3
[1] "# of genes left after filtering:"
[1]   38 3051
[1] "Method name: elasticnet"
[1]   38 3051
nci_y
-1  1 
27 11 
learningset mode:  CV 
number of learningsets:  10 
(maximum) number of observations per learning set:  35 
[1] "one-vs-all"
GeneSelection: iteration 1 
GeneSelection: iteration 2 
GeneSelection: iteration 3 
GeneSelection: iteration 4 
GeneSelection: iteration 5 
GeneSelection: iteration 6 
GeneSelection: iteration 7 
GeneSelection: iteration 8 
GeneSelection: iteration 9 
GeneSelection: iteration 10 
[1] 11
[1] "varselmethod"
[1] "none"
[1] 11
[1] "Method: elasticnet"
[1] 3
[1] "dim of scoring matrix is "
[1] 3051    1
     Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
0.0000000 0.0000000 0.0000000 0.0009833 0.0000000 1.0000000 
[1] 3
[1] 3051
[1] "DS index stage 1"
[1] NA
[1] "bestgenelist"
[1]  808  829 2670
      var1834  var1882  var6218
[1,] 2.418301 2.482874 2.004321
[2,] 2.008600 3.133219 2.004321
[3,] 2.491362 2.406540 2.004321
      var1834  var1882  var6218
[1,] 2.227887 2.004321 2.037426
[2,] 2.389166 2.004321 2.230449
[3,] 2.004321 2.004321 2.584331
[1] "numgenes selected:3"
[1] "test acc:0.882352941176471"
[1] "test AUC acc:0.9"
[1] "10 fold train97.3684210526316"
[1] "confusion matrix train 10 fold"
          nci_y
pred10fold -1  1
        -1 27  0
        1   0 11
[1] "confusion matrix test"
         test_y
pred_test -1  1
       -1 16  0
       1   4 14
[1] "train acc:1"
[1] "confusion matrix train"
          nci_y
pred_train -1  1
        -1 27  0
        1   0 11
[1] "DS index stage 1"
[1] NA
[1] "KI index stage 1"
[1] NA
[1] "dim of trainm is "
[1]   38 3051
[1]   38 3051
[1] "length of factcols"
[1] 0
[1]   38 3051
[1]   34 3051
integer(0)
character(0)
NULL
[1] "ok"
[1] "maxnum is "
[1] 3
[1] "# of genes left after filtering:"
[1]   38 3051
[1] "Method name: f.test"
[1]   38 3051
nci_y
-1  1 
27 11 
learningset mode:  CV 
number of learningsets:  10 
(maximum) number of observations per learning set:  35 
[1] "one-vs-all"
GeneSelection: iteration 1 
GeneSelection: iteration 2 
GeneSelection: iteration 3 
GeneSelection: iteration 4 
GeneSelection: iteration 5 
GeneSelection: iteration 6 
GeneSelection: iteration 7 
GeneSelection: iteration 8 
GeneSelection: iteration 9 
GeneSelection: iteration 10 
[1] 10
[1] "varselmethod"
[1] "none"
[1] 10
[1] "Method: f.test"
[1] 3
[1] "dim of scoring matrix is "
[1] 3051    1
     Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
0.0000000 0.0000000 0.0000000 0.0009833 0.0000000 1.0000000 
[1] 3
[1] 3051
[1] "DS index stage 1"
[1] NA
[1] "bestgenelist"
[1]  378  829 1448
       var760  var1882  var3320
[1,] 2.209515 2.482874 3.051153
[2,] 2.770115 3.133219 3.026533
[3,] 2.318063 2.406540 3.145818
       var760  var1882  var3320
[1,] 2.004321 2.004321 3.050380
[2,] 2.004321 2.004321 3.007321
[3,] 2.356026 2.004321 2.632457
[1] "numgenes selected:3"
[1] "test acc:0.941176470588235"
[1] "test AUC acc:0.928571428571429"
[1] "10 fold train97.3684210526316"
[1] "confusion matrix train 10 fold"
          nci_y
pred10fold -1  1
        -1 27  1
        1   0 10
[1] "confusion matrix test"
         test_y
pred_test -1  1
       -1 20  2
       1   0 12
[1] "train acc:0.973684210526316"
[1] "confusion matrix train"
          nci_y
pred_train -1  1
        -1 27  1
        1   0 10
[1] "DS index stage 1"
[1] NA
[1] "KI index stage 1"
[1] NA
There were 40 warnings (use warnings() to see them)
> #1
> CMAres<-performCMA(trainm, trainclass, testm, testclass,outloc,
+ maxnum=as.numeric(args[10]),
+ minnum=3,
+ stepitr=1,
+ gsmethods=c("limma","lasso","rfe","elasticnet", "f.test"), #"lasso","elasticnet","kruskal.test"), #"f.test", "f.test", "elasticnet", "wilcox.test", "welch.test"),
+ pct_train=0.40,
+ accuracyweight=1,
+ featweight=0.06,
+ minpresent=1,
+ kname="radial",
+ norm_method="none",
+ tolerance=0.1,
+ maxitrs=5,
+ classindex=1,
+ numfacts=0,
+ evalmethod="CV",
+ numfolds=10,
+ CVfoldthresh=0.7,
+ varselmethod=args[11],
+ scheme_val="one-vs-all",
+ iter_learn=1,boostweight=rep(0,dim(trainm)[2]))
[1] "dim of trainm is "
[1]   38 3051
[1]   38 3051
[1] "length of factcols"
[1] 0
[1]   38 3051
[1]   34 3051
integer(0)
character(0)
NULL
[1] "ok"
[1] "maxnum is "
[1] 3
[1] "# of genes left after filtering:"
[1]   38 3051
[1] "Method name: limma"
[1]   38 3051
nci_y
-1  1 
27 11 
learningset mode:  CV 
number of learningsets:  10 
(maximum) number of observations per learning set:  35 
[1] "one-vs-all"
GeneSelection: iteration 1 
GeneSelection: iteration 2 
GeneSelection: iteration 3 
GeneSelection: iteration 4 
GeneSelection: iteration 5 
GeneSelection: iteration 6 
GeneSelection: iteration 7 
GeneSelection: iteration 8 
GeneSelection: iteration 9 
GeneSelection: iteration 10 
[1] 8
[1] "varselmethod"
[1] "none"
[1] 8
[1] "Method: limma"
[1] 3
[1] "Method name: lasso"
[1]   38 3051
nci_y
-1  1 
27 11 
learningset mode:  CV 
number of learningsets:  10 
(maximum) number of observations per learning set:  35 
[1] "one-vs-all"
GeneSelection: iteration 1 
GeneSelection: iteration 2 
GeneSelection: iteration 3 
GeneSelection: iteration 4 
GeneSelection: iteration 5 
GeneSelection: iteration 6 
GeneSelection: iteration 7 
GeneSelection: iteration 8 
GeneSelection: iteration 9 
GeneSelection: iteration 10 
genelist
 829  808 2670  523  894 1413 1448 1977 2124 2198 2750 
  10    8    3    2    1    1    1    1    1    1    1 
[1] 11
[1] "varselmethod"
[1] "none"
[1] 11
[1] "Method: lasso"
[1] 3
[1] "Method name: rfe"
[1]   38 3051
nci_y
-1  1 
27 11 
learningset mode:  CV 
number of learningsets:  10 
(maximum) number of observations per learning set:  35 
[1] "one-vs-all"
GeneSelection: iteration 1 
GeneSelection: iteration 2 
GeneSelection: iteration 3 
GeneSelection: iteration 4 
GeneSelection: iteration 5 
GeneSelection: iteration 6 
GeneSelection: iteration 7 
GeneSelection: iteration 8 
GeneSelection: iteration 9 
GeneSelection: iteration 10 
[1] 7
[1] "varselmethod"
[1] "none"
[1] 7
[1] "Method: rfe"
[1] 3
[1] "Method name: elasticnet"
[1]   38 3051
nci_y
-1  1 
27 11 
learningset mode:  CV 
number of learningsets:  10 
(maximum) number of observations per learning set:  35 
[1] "one-vs-all"
GeneSelection: iteration 1 
GeneSelection: iteration 2 
GeneSelection: iteration 3 
GeneSelection: iteration 4 
GeneSelection: iteration 5 
GeneSelection: iteration 6 
GeneSelection: iteration 7 
GeneSelection: iteration 8 
GeneSelection: iteration 9 
GeneSelection: iteration 10 
[1] 11
[1] "varselmethod"
[1] "none"
[1] 11
[1] "Method: elasticnet"
[1] 3
[1] "Method name: f.test"
[1]   38 3051
nci_y
-1  1 
27 11 
learningset mode:  CV 
number of learningsets:  10 
(maximum) number of observations per learning set:  35 
[1] "one-vs-all"
GeneSelection: iteration 1 
GeneSelection: iteration 2 
GeneSelection: iteration 3 
GeneSelection: iteration 4 
GeneSelection: iteration 5 
GeneSelection: iteration 6 
GeneSelection: iteration 7 
GeneSelection: iteration 8 
GeneSelection: iteration 9 
GeneSelection: iteration 10 
[1] 10
[1] "varselmethod"
[1] "none"
[1] 10
[1] "Method: f.test"
[1] 3
[1] "dim of scoring matrix is "
[1] 3051    5
     Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
0.0000000 0.0000000 0.0000000 0.0009833 0.0000000 1.0000000 
[1] 3
[1] 3051
[1] "DS index stage 1"
[1] 0
[1] "bestgenelist"
[1]  378  829 1448
       var760  var1882  var3320
[1,] 2.209515 2.482874 3.051153
[2,] 2.770115 3.133219 3.026533
[3,] 2.318063 2.406540 3.145818
       var760  var1882  var3320
[1,] 2.004321 2.004321 3.050380
[2,] 2.004321 2.004321 3.007321
[3,] 2.356026 2.004321 2.632457
[1] "numgenes selected:3"
[1] "test acc:0.941176470588235"
[1] "test AUC acc:0.928571428571429"
[1] "10 fold train97.3684210526316"
[1] "confusion matrix train 10 fold"
          nci_y
pred10fold -1  1
        -1 27  1
        1   0 10
[1] "confusion matrix test"
         test_y
pred_test -1  1
       -1 20  2
       1   0 12
[1] "train acc:0.973684210526316"
[1] "confusion matrix train"
          nci_y
pred_train -1  1
        -1 27  1
        1   0 10
[1] "DS index stage 1"
[1] 0
[1] "KI index stage 1"
[1] -0.000984252
[[1]]
[1] "var"

[[2]]
[1] "var"

[[3]]
[1] "var"

[[4]]
[1] "var"

[[5]]
[1] "var378"  "var829"  "var1448"

Error in RankAggreg(m4, k = maxnum) : Elements of Each Row Must Be Unique
Calls: performCMA -> RankAggreg
In addition: There were 11 warnings (use warnings() to see them)
Execution halted
